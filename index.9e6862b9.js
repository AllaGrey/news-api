var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,i="object"==typeof e&&e&&e.Object===Object&&e,a="object"==typeof self&&self&&self.Object===Object&&self,c=i||a||Function("return this")(),l=Object.prototype.toString,u=Math.max,f=Math.min,d=function(){return c.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function p(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(e))return NaN;if(h(e)){var i="function"==typeof e.valueOf?e.valueOf():e;e=h(i)?i+"":i}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(t,"");var a=r.test(e);return a||o.test(e)?s(e.slice(2),a?2:8):n.test(e)?NaN:+e}const b={headers:{"X-Api-Key":"96e25f8285fd45ed9f51a9acbee3a44d"}};const g={form:document.querySelector(".form"),newsWrapper:document.querySelector(".newsWrapper")},m=new class{getNews(){const e=`https://newsapi.org/v2/everything?q=${this.searchQuery}&pageSize=8&page=${this.page}`;return fetch(e,b).then((e=>e.json())).then((({articles:e})=>(this.incrementPage(),e)))}incrementPage(){this.page+=1}resetPage(){this.page=1}constructor(){this.page=1,this.searchQuery=""}},y=new class{getButton(e){return document.querySelector(e)}hide(){this.button.classList.add("hidden")}show(){this.button.classList.remove("hidden")}disable(){this.button.disabled=!0,this.button.textContent="Loading..."}enable(){this.button.disabled=!1,this.button.textContent="Load more"}constructor({selector:e,isHiden:t}){this.button=this.getButton(e),t?this.hide():this.show()}}({selector:".loadMoreBtn",isHiden:!0});function w(){return m.getNews().then((e=>{if(0===e.length)throw new Error("No data");return console.log(e),e.reduce(((e,t)=>function({author:e,title:t,description:n,url:r,urlToImage:o}){return`\n    <div class="article-card">\n      <h2 class="article-title">${t}</h2>\n      <img class="article-img" src="${o}" alt="" />\n      <h3 class="article-author">${e||"Anonimous"}</h3>\n      <p class="article-description">${n}</p>\n      <a class="article-url" href="${r}" target="_blank">Read more</a>\n    </div>\n    `}(t)+e),"")})).then((e=>{!function(e){g.newsWrapper.insertAdjacentHTML("beforeend",e)}(e),y.enable()})).catch(v)}function v(e){console.log(e)}console.log(y),console.log(g.form),console.log(g.newsWrapper),g.form.addEventListener("submit",(function(e){e.preventDefault();const t=e.currentTarget.elements[0].value.trim();m.searchQuery=t,g.newsWrapper.innerHTML="",m.resetPage(),y.show(),y.disable(),w().finally((()=>g.form.reset()))})),y.button.addEventListener("click",w);
//# sourceMappingURL=index.9e6862b9.js.map
